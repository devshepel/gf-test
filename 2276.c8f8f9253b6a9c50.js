"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2276],{2276:(Ze,T,l)=>{l.r(T),l.d(T,{MainBoardPageModule:()=>Qe});var S=l(177),L=l(4341),O=l(3465),m=l(416),e=l(4438),d=l(281),N=l(5964),A=l(5558),B=l(7289),h=l(2753);let x=(()=>{var i;class o{constructor(n){this.assetManagerService=n}ngOnInit(){}}return(i=o).\u0275fac=function(n){return new(n||i)(e.rXU(h.D))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-swipe-pointer"]],decls:2,vars:1,consts:[[3,"src"]],template:function(n,s){1&n&&(e.j41(0,"div"),e.nrm(1,"img",0),e.k0s()),2&n&&(e.R7$(),e.Y8G("src",s.assetManagerService.getAssetLoadedUrl(s.assetManagerService.ALL_IMAGES_ASSETS.CLICK_HERE.assetUrl),e.B4B))},styles:["[_nghost-%COMP%]{pointer-events:none;animation:_ngcontent-%COMP%_swipe-hand 1.5s linear infinite}img[_ngcontent-%COMP%]{height:30vw;width:30vw}@keyframes _ngcontent-%COMP%_swipe-hand{0%{transform:rotate(-15deg);margin-left:-40vw}to{transform:rotate(30deg);margin-left:20vw}}"]}),o})();var R=l(739),v=l(3909),C=l(467),I=l(6697),U=l(605),D=l(9974),F=l(4360);function E(){return E=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},E.apply(this,arguments)}var V={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(i){},onComplete:function(i){},preStringTyped:function(i,o){},onStringTyped:function(i,o){},onLastStringBackspaced:function(i){},onTypingPaused:function(i,o){},onTypingResumed:function(i,o){},onReset:function(i){},onStop:function(i,o){},onStart:function(i,o){},onDestroy:function(i){}},Y=new(function(){function i(){}var o=i.prototype;return o.load=function(t,n,s){if(t.el="string"==typeof s?document.querySelector(s):s,t.options=E({},V,n),t.isInput="input"===t.el.tagName.toLowerCase(),t.attr=t.options.attr,t.bindInputFocusEvents=t.options.bindInputFocusEvents,t.showCursor=!t.isInput&&t.options.showCursor,t.cursorChar=t.options.cursorChar,t.cursorBlinking=!0,t.elContent=t.attr?t.el.getAttribute(t.attr):t.el.textContent,t.contentType=t.options.contentType,t.typeSpeed=t.options.typeSpeed,t.startDelay=t.options.startDelay,t.backSpeed=t.options.backSpeed,t.smartBackspace=t.options.smartBackspace,t.backDelay=t.options.backDelay,t.fadeOut=t.options.fadeOut,t.fadeOutClass=t.options.fadeOutClass,t.fadeOutDelay=t.options.fadeOutDelay,t.isPaused=!1,t.strings=t.options.strings.map(function(p){return p.trim()}),t.stringsElement="string"==typeof t.options.stringsElement?document.querySelector(t.options.stringsElement):t.options.stringsElement,t.stringsElement){t.strings=[],t.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var r=Array.prototype.slice.apply(t.stringsElement.children),a=r.length;if(a)for(var g=0;g<a;g+=1)t.strings.push(r[g].innerHTML.trim())}for(var c in t.strPos=0,t.currentElContent=this.getCurrentElContent(t),t.currentElContent&&t.currentElContent.length>0&&(t.strPos=t.currentElContent.length-1,t.strings.unshift(t.currentElContent)),t.sequence=[],t.strings)t.sequence[c]=c;t.arrayPos=0,t.stopNum=0,t.loop=t.options.loop,t.loopCount=t.options.loopCount,t.curLoop=0,t.shuffle=t.options.shuffle,t.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},t.typingComplete=!1,t.autoInsertCss=t.options.autoInsertCss,t.autoInsertCss&&(this.appendCursorAnimationCss(t),this.appendFadeOutAnimationCss(t))},o.getCurrentElContent=function(t){return t.attr?t.el.getAttribute(t.attr):t.isInput?t.el.value:"html"===t.contentType?t.el.innerHTML:t.el.textContent},o.appendCursorAnimationCss=function(t){var n="data-typed-js-cursor-css";if(t.showCursor&&!document.querySelector("["+n+"]")){var s=document.createElement("style");s.setAttribute(n,"true"),s.innerHTML="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      ",document.body.appendChild(s)}},o.appendFadeOutAnimationCss=function(t){var n="data-typed-fadeout-js-css";if(t.fadeOut&&!document.querySelector("["+n+"]")){var s=document.createElement("style");s.setAttribute(n,"true"),s.innerHTML="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      ",document.body.appendChild(s)}},i}()),w=new(function(){function i(){}var o=i.prototype;return o.typeHtmlChars=function(t,n,s){if("html"!==s.contentType)return n;var r=t.substring(n).charAt(0);if("<"===r||"&"===r){var a;for(a="<"===r?">":";";t.substring(n+1).charAt(0)!==a&&!(1+ ++n>t.length););n++}return n},o.backSpaceHtmlChars=function(t,n,s){if("html"!==s.contentType)return n;var r=t.substring(n).charAt(0);if(">"===r||";"===r){var a;for(a=">"===r?"<":"&";t.substring(n-1).charAt(0)!==a&&!(--n<0););n--}return n},i}()),$=function(){function i(t,n){Y.load(this,n,t),this.begin()}var o=i.prototype;return o.toggle=function(){this.pause.status?this.start():this.stop()},o.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},o.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},o.destroy=function(){this.reset(!1),this.options.onDestroy(this)},o.reset=function(t){void 0===t&&(t=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,t&&(this.insertCursor(),this.options.onReset(this),this.begin())},o.begin=function(){var t=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){0===t.strPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos):t.backspace(t.strings[t.sequence[t.arrayPos]],t.strPos)},this.startDelay)},o.typewrite=function(t,n){var s=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var r=this.humanizer(this.typeSpeed),a=1;!0!==this.pause.status?this.timeout=setTimeout(function(){n=w.typeHtmlChars(t,n,s);var g=0,c=t.substring(n);if("^"===c.charAt(0)&&/^\^\d+/.test(c)){var p=1;p+=(c=/\d+/.exec(c)[0]).length,g=parseInt(c),s.temporaryPause=!0,s.options.onTypingPaused(s.arrayPos,s),t=t.substring(0,n)+t.substring(n+p),s.toggleBlinking(!0)}if("`"===c.charAt(0)){for(;"`"!==t.substring(n+a).charAt(0)&&(a++,!(n+a>t.length)););var u=t.substring(0,n),f=t.substring(u.length+1,n+a),b=t.substring(n+a+1);t=u+f+b,a--}s.timeout=setTimeout(function(){s.toggleBlinking(!1),n>=t.length?s.doneTyping(t,n):s.keepTyping(t,n,a),s.temporaryPause&&(s.temporaryPause=!1,s.options.onTypingResumed(s.arrayPos,s))},g)},r):this.setPauseStatus(t,n,!0)},o.keepTyping=function(t,n,s){0===n&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var r=t.substring(0,n+=s);this.replaceText(r),this.typewrite(t,n)},o.doneTyping=function(t,n){var s=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),!1===this.loop||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){s.backspace(t,n)},this.backDelay))},o.backspace=function(t,n){var s=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var r=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){n=w.backSpaceHtmlChars(t,n,s);var a=t.substring(0,n);if(s.replaceText(a),s.smartBackspace){var g=s.strings[s.arrayPos+1];s.stopNum=g&&a===g.substring(0,n)?n:0}n>s.stopNum?(n--,s.backspace(t,n)):n<=s.stopNum&&(s.arrayPos++,s.arrayPos===s.strings.length?(s.arrayPos=0,s.options.onLastStringBackspaced(),s.shuffleStringsIfNeeded(),s.begin()):s.typewrite(s.strings[s.sequence[s.arrayPos]],n))},r)}else this.setPauseStatus(t,n,!1)},o.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},o.setPauseStatus=function(t,n,s){this.pause.typewrite=s,this.pause.curString=t,this.pause.curStrPos=n},o.toggleBlinking=function(t){this.cursor&&(this.pause.status||this.cursorBlinking!==t&&(this.cursorBlinking=t,t?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},o.humanizer=function(t){return Math.round(Math.random()*t/2)+t},o.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},o.initFadeOut=function(){var t=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){t.arrayPos++,t.replaceText(""),t.strings.length>t.arrayPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],0):(t.typewrite(t.strings[0],0),t.arrayPos=0)},this.fadeOutDelay)},o.replaceText=function(t){this.attr?this.el.setAttribute(this.attr,t):this.isInput?this.el.value=t:"html"===this.contentType?this.el.innerHTML=t:this.el.textContent=t},o.bindFocusEvents=function(){var t=this;this.isInput&&(this.el.addEventListener("focus",function(n){t.stop()}),this.el.addEventListener("blur",function(n){t.el.value&&0!==t.el.value.length||t.start()}))},o.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},i}(),M=l(3124);const X=(i,o)=>({"magictime vanishOut":i,"dispay-none":o});function H(i,o){if(1&i&&(e.qex(0),e.nrm(1,"video",4),e.bVm()),2&i){const t=e.XpG();e.R7$(),e.Y8G("src",t.assetManagerService.getAssetLoadedUrl("assets/loading/video/general_loading.mp4"),e.B4B)("ngClass",e.l_i(2,X,t.processStateService.CURRENT_STAGE.value===t.processStateService.PROCESS_STAGES.AI_TALKING_SCENE_START,t.processStateService.CURRENT_STAGE.value>t.processStateService.PROCESS_STAGES.WAITING_PLAYER_CLICK_START))}}function K(i,o){if(1&i){const t=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.processStateService.setStage(s.processStateService.PROCESS_STAGES.LOADING_ALL_ASSETS_START))}),e.EFF(1," Start "),e.j41(2,"span",11),e.EFF(3,"Play"),e.k0s(),e.j41(4,"span",12),e.EFF(5,"GF1.0"),e.k0s()()}}function z(i,o){1&i&&(e.j41(0,"h1",16)(1,"div"),e.EFF(2," Loading "),e.j41(3,"span",17),e.EFF(4,". . ."),e.k0s()()())}function W(i,o){if(1&i&&(e.j41(0,"div",13),e.DNE(1,z,5,0,"h1",14),e.j41(2,"div",15)(3,"code"),e.EFF(4),e.k0s()()()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.processStateService.CURRENT_STAGE.value===t.processStateService.PROCESS_STAGES.LOADING_ALL_ASSETS_START),e.R7$(3),e.JRh(t.progressBarValue)}}function q(i,o){if(1&i){const t=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.processStateService.setStage(s.processStateService.PROCESS_STAGES.SHOW_STORY_TERRAHEDRON))}),e.EFF(1," Play "),e.j41(2,"span",11),e.EFF(3,"Play"),e.k0s(),e.j41(4,"span",12),e.EFF(5,"GF1.0"),e.k0s()()}}function Q(i,o){if(1&i&&(e.j41(0,"ion-grid",5)(1,"ion-row"),e.nrm(2,"ion-col",6),e.j41(3,"ion-col",7),e.DNE(4,K,6,0,"button",8)(5,W,5,2,"div",9)(6,q,6,0,"button",8),e.k0s(),e.nrm(7,"ion-col",6),e.k0s()()),2&i){const t=e.XpG();e.Y8G("fixed",!0),e.R7$(4),e.Y8G("ngIf",t.processStateService.CURRENT_STAGE.value===t.processStateService.PROCESS_STAGES.INITIAL_LOADING_FINISH),e.R7$(),e.Y8G("ngIf",t.processStateService.CURRENT_STAGE.value===t.processStateService.PROCESS_STAGES.LOADING_ALL_ASSETS_START),e.R7$(),e.Y8G("ngIf",t.processStateService.CURRENT_STAGE.value===t.processStateService.PROCESS_STAGES.WAITING_PLAYER_CLICK_START)}}function Z(i,o){1&i&&(e.j41(0,"span",17)(1,"b"),e.EFF(2,"_"),e.k0s()())}function J(i,o){if(1&i&&(e.j41(0,"ion-row",22)(1,"span",23),e.EFF(2,"#P3ZXGF: \xa0\xa0"),e.k0s(),e.j41(3,"div"),e.nrm(4,"span",24),e.DNE(5,Z,3,0,"span",25),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("ngIf",0==t.currentDialogRowNumber)}}function ee(i,o){1&i&&(e.j41(0,"span",17)(1,"b"),e.EFF(2,"_"),e.k0s()())}function te(i,o){if(1&i&&(e.j41(0,"ion-row",22)(1,"span",23),e.EFF(2,"#P3ZXGF: \xa0\xa0"),e.k0s(),e.j41(3,"div"),e.nrm(4,"span",26),e.DNE(5,ee,3,0,"span",25),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("ngIf",1==t.currentDialogRowNumber)}}function ne(i,o){1&i&&(e.j41(0,"span",17)(1,"b"),e.EFF(2,"_"),e.k0s()())}function se(i,o){if(1&i&&(e.j41(0,"ion-row",22)(1,"span",23),e.EFF(2,"#P3ZXGF: \xa0\xa0"),e.k0s(),e.j41(3,"div"),e.nrm(4,"span",27),e.DNE(5,ne,3,0,"span",25),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("ngIf",2==t.currentDialogRowNumber)}}function ie(i,o){1&i&&(e.j41(0,"span",17)(1,"b"),e.EFF(2,"_"),e.k0s()())}function oe(i,o){if(1&i&&(e.j41(0,"ion-row",22)(1,"span",23),e.EFF(2,"#P3ZXGF: \xa0\xa0"),e.k0s(),e.j41(3,"div"),e.nrm(4,"span",28),e.DNE(5,ie,3,0,"span",25),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("ngIf",3==t.currentDialogRowNumber)}}function re(i,o){1&i&&(e.j41(0,"span",17)(1,"b"),e.EFF(2,"_"),e.k0s()())}function ae(i,o){if(1&i&&(e.j41(0,"ion-row",22)(1,"span",23),e.EFF(2,"#P3ZXGF: \xa0\xa0"),e.k0s(),e.j41(3,"div"),e.nrm(4,"span",29),e.DNE(5,re,3,0,"span",25),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("ngIf",4==t.currentDialogRowNumber)}}function ce(i,o){1&i&&(e.j41(0,"span",17)(1,"b"),e.EFF(2,"_"),e.k0s()())}function le(i,o){if(1&i&&(e.j41(0,"ion-row",22)(1,"span",23),e.EFF(2,"#P3ZXGF: \xa0\xa0"),e.k0s(),e.j41(3,"div"),e.nrm(4,"span",30),e.DNE(5,ce,3,0,"span",25),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("ngIf",5==t.currentDialogRowNumber)}}function ge(i,o){1&i&&(e.j41(0,"span",17)(1,"b"),e.EFF(2,"_"),e.k0s()())}function pe(i,o){if(1&i&&(e.j41(0,"ion-row",22)(1,"span",23),e.EFF(2,"#P3ZXGF: \xa0\xa0"),e.k0s(),e.j41(3,"div"),e.nrm(4,"span",31),e.DNE(5,ge,3,0,"span",25),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("ngIf",6==t.currentDialogRowNumber)}}function Se(i,o){1&i&&(e.j41(0,"span",17)(1,"b"),e.EFF(2,"_"),e.k0s()())}function ue(i,o){if(1&i&&(e.j41(0,"ion-row",22)(1,"span",23),e.EFF(2,"#P3ZXGF: \xa0\xa0"),e.k0s(),e.j41(3,"div"),e.nrm(4,"span",32),e.DNE(5,Se,3,0,"span",25),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(5),e.Y8G("ngIf",7==t.currentDialogRowNumber)}}function de(i,o){if(1&i&&(e.j41(0,"ion-grid",18)(1,"ion-row")(2,"ion-col",19)(3,"div",20),e.nrm(4,"br"),e.k0s()()(),e.DNE(5,J,6,1,"ion-row",21)(6,te,6,1,"ion-row",21)(7,se,6,1,"ion-row",21)(8,oe,6,1,"ion-row",21)(9,ae,6,1,"ion-row",21)(10,le,6,1,"ion-row",21)(11,pe,6,1,"ion-row",21)(12,ue,6,1,"ion-row",21),e.k0s()),2&i){const t=e.XpG();e.Y8G("fixed",!0),e.R7$(5),e.Y8G("ngIf",t.currentDialogRowNumber>=0),e.R7$(),e.Y8G("ngIf",t.currentDialogRowNumber>=1),e.R7$(),e.Y8G("ngIf",t.currentDialogRowNumber>=2),e.R7$(),e.Y8G("ngIf",t.currentDialogRowNumber>=3),e.R7$(),e.Y8G("ngIf",t.currentDialogRowNumber>=4),e.R7$(),e.Y8G("ngIf",t.currentDialogRowNumber>=5),e.R7$(),e.Y8G("ngIf",t.currentDialogRowNumber>=6),e.R7$(),e.Y8G("ngIf",t.currentDialogRowNumber>=7)}}function _e(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",33)(1,"div",34),e.nrm(2,"img",35),e.k0s(),e.j41(3,"div",36)(4,"span",37),e.EFF(5," Emissions from the technetium superconductors used in quantum computers have completely destroyed the atmosphere, turning the vast majority of water into deuterium. "),e.nrm(6,"br")(7,"br"),e.EFF(8," The last hope to revive life is millions of terrahedrons, devices made up of autonomous modules controlled by group of AI's and operating on the Gracium protocol. "),e.nrm(9,"br")(10,"br"),e.EFF(11," You are an artificial intelligence that is responsible for controlling a terrahedron's terraforming and networking module. "),e.nrm(12,"br")(13,"br"),e.j41(14,"b"),e.EFF(15,"Your main goal is production of Gracium as a proof of terraforming."),e.k0s(),e.nrm(16,"br"),e.j41(17,"div",38),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.startGame())}),e.j41(18,"h2"),e.EFF(19,"Continue"),e.k0s()()()()()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("src",t.assetManagerService.getAssetLoadedUrl(t.assetManagerService.ALL_IMAGES_ASSETS.TERRAHEDRON_STORY_IMG.assetUrl),e.B4B)}}let me=(()=>{var i;class o{constructor(n,s,r,a,g,c){this.processStateService=n,this.assetManagerService=s,this.audioPlayerManagerService=r,this.changeDetector=a,this.gameProcessService=g,this.router=c,this.progressBarValue="",this.dialogHtmlRows=[["Checking the integrity of the network terraforming module system:"],['&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Central processing board: <b><span class="check fg-red"> checking</span></b>','&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Central processing board: <b><span class="completed"> Operating \u2714</span></b>'],['&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processor Reprogrammer: <b><span class="check fg-red"> checking</span></b>','&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processor Reprogrammer: <b><span class="completed"> Operating \u2714</span></b>'],['&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AI Training Center: <b><span class="check fg-red"> checking</span></b>','&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AI Training Center: <b><span class="completed"> Operating \u2714</span></b>'],['&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Main Computing Unit: <b><span class="check fg-red"> checking</span></b>','&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Main Computing Unit: <b><span class="completed"> Operating \u2714</span></b>'],['&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Producing Subsystem: <b><span class="check fg-red"> checking</span></b>','&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Producing Subsystem: <b><span class="completed"> Operating \u2714</span></b>'],["Integrity of network terraforming module system check completed. System is fully operational. Running launch packages . . .",'Integrity of network terraforming module system check completed. System is fully operational. Running launch packages <b><span class="completed">  \u2714</span></b>'],[' <b><span class="completed">Networking terraforming module is up and running. Initializing learning protocol.</span></b>']],this.currentDialogRowNumber=0,this.videoAiTalkingListener=()=>{var p;(null===(p=this.aiTalkingVideoElement)||void 0===p?void 0:p.currentTime)>2.7&&(this.aiTalkingVideoElement.currentTime=.1)},this.subs=[];for(let p=0;p<20;p++)this.progressBarValue+=Math.floor(10*Math.random())}ngOnInit(){console.log(this.processStateService.CURRENT_STAGE),this.subs.push(this.processStateService.CURRENT_STAGE.subscribe(n=>{switch(n){case this.processStateService.PROCESS_STAGES.INITIAL_LOADING_START:this.startInitialLoading();break;case this.processStateService.PROCESS_STAGES.INITIAL_LOADING_FINISH:break;case this.processStateService.PROCESS_STAGES.LOADING_ALL_ASSETS_START:this.listenLoadingAssetProgress(),this.startAllAssetsLoading();break;case this.processStateService.PROCESS_STAGES.SHOW_STORY_TERRAHEDRON:this.showShortStory()}}))}ngOnDestroy(){this.subs.forEach(n=>null==n?void 0:n.unsubscribe())}showShortStory(){setTimeout(()=>{const n=document.querySelector("#buttonContinue");null==n||n.classList.remove("gf-invisible");const s=document.getElementById("storyTextWrap");s&&(s.scrollTop=s.scrollHeight)},2e3)}startGame(){if(!0===this.gameProcessService.IS_LEARNING_FINISHED)return this.processStateService.setStage(this.processStateService.PROCESS_STAGES.PLAYING),void this.gameProcessService.continueMiningProcess();this.processStateService.setStage(this.processStateService.PROCESS_STAGES.AVAILABLE_COMPUTING_UNIT),setTimeout(()=>{this.router.navigate(["/main-board"],{replaceUrl:!0,queryParams:{nav:"computingUnit"}})})}startInitialLoading(){this.assetManagerService.allAssetsLoadedEvent.pipe((0,I.s)(1)).subscribe(n=>{this.processStateService.setStage(this.processStateService.PROCESS_STAGES.INITIAL_LOADING_FINISH)}),this.assetManagerService.loadAssets(["assets/loading/video/general_loading.mp4",this.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.INITAL_SOUNDS.START_LOADING_ASSETS_VOICE.assetUrl])}listenLoadingAssetProgress(){const n=(0,U.Y)(100).pipe(function j(i,o=!1){return(0,D.N)((t,n)=>{let s=0;t.subscribe((0,F._)(n,r=>{const a=i(r,s++);(a||o)&&n.next(r),!a&&n.complete()}))})}(()=>this.processStateService.CURRENT_STAGE.value<=this.processStateService.PROCESS_STAGES.LOADING_ALL_ASSETS_FINISHED,!0),(0,A.n)(()=>this.assetManagerService.currentLoadingProgress)).subscribe(s=>{this.assetManagerService.allAssetsLoadedEvent.pipe((0,I.s)(1)).subscribe(()=>{null==n||n.unsubscribe(),this.progressBarValue=this.getProgressBarValue(100),this.processStateService.setStage(this.processStateService.PROCESS_STAGES.LOADING_ALL_ASSETS_FINISHED),setTimeout(()=>{const r=document.getElementById("videoLoading");null!=r&&r.playing||null==r||r.pause(),this.processStateService.setStage(this.processStateService.PROCESS_STAGES.SHOW_STORY_TERRAHEDRON)},2e3)}),this.progressBarValue=this.getProgressBarValue(s)})}startAllAssetsLoading(){const n=document.getElementById("videoLoading");null!=n&&n.playing||n.play(),this.audioPlayerManagerService.play(this.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.INITAL_SOUNDS.START_LOADING_ASSETS_VOICE);const s=[];for(const r in this.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.BACKGROUND)s.push(this.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.BACKGROUND[r]);for(const r in this.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES)s.push(this.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES[r]);for(const r in this.assetManagerService.ALL_IMAGES_ASSETS)s.push(this.assetManagerService.ALL_IMAGES_ASSETS[r]);this.assetManagerService.loadAssets(s.map(r=>r.assetUrl)),console.log(s)}getProgressBarValue(n,s=100){const g=Math.floor(n/s*20),c=20-g,p="#".repeat(g);let u="";for(let f=0;f<c;f++)u+=Math.floor(10*Math.random()).toString();return p+u}ngAfterContentChecked(){this.changeDetector.detectChanges()}initializeVideoTalkingAi(){this.aiTalkingVideoElement=document.getElementById("aiTalk"),this.aiTalkingVideoElement.addEventListener("timeupdate",this.videoAiTalkingListener)}playAiTalkingVideo(){var n;this.aiTalkingVideoElement.currentTime=.1,null===(n=this.aiTalkingVideoElement)||void 0===n||n.play()}stopAiTalkingVideo(){var n;this.aiTalkingVideoElement&&(null===(n=this.aiTalkingVideoElement)||void 0===n||n.pause())}handleAiRowTypingAndVoice(n,s,r=35){var a=this;return(0,C.A)(function*(){return yield a.delay(1),a.audioPlayerManagerService.play(s[0]),a.playAiTalkingVideo(),new Promise(g=>{var c;new $(`#ai-row-${n}`,{strings:a.dialogHtmlRows[n],smartBackspace:!0,typeSpeed:r,backDelay:2e3,showCursor:!1,onStringTyped:(c=(0,C.A)(function*(p){yield a.delay(1e3),a.stopAiTalkingVideo(),yield a.delay(1800),0==p&&s[1]&&(a.playAiTalkingVideo(),a.audioPlayerManagerService.play(s[1]))}),function(u){return c.apply(this,arguments)}),onComplete:function(){var c=(0,C.A)(function*(){yield a.delay(1300),a.stopAiTalkingVideo(),g(null)});return function(){return c.apply(this,arguments)}}()})})})()}delay(n){return new Promise(s=>setTimeout(s,n))}startAiTalking(){var n=this;return(0,C.A)(function*(){yield n.delay(2500),n.initializeVideoTalkingAi(),yield n.delay(500),yield n.handleAiRowTypingAndVoice(n.currentDialogRowNumber,[n.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES.START_CHECKING_SYSTEM]),n.currentDialogRowNumber+=1,yield n.handleAiRowTypingAndVoice(n.currentDialogRowNumber,[n.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES.CHECK_PROCESSING_BOARD,n.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES.CHECK_OPERATING]),n.currentDialogRowNumber+=1,yield n.handleAiRowTypingAndVoice(n.currentDialogRowNumber,[n.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES.CHECK_PROCESSOR_REPROGRAMMER,n.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES.CHECK_OPERATING]),n.currentDialogRowNumber+=1,yield n.handleAiRowTypingAndVoice(n.currentDialogRowNumber,[n.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES.CHECK_AI,n.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES.CHECK_OPERATING]),n.currentDialogRowNumber+=1,yield n.handleAiRowTypingAndVoice(n.currentDialogRowNumber,[n.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES.CHECK_COMPUTING_UNIT,n.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES.CHECK_OPERATING]),n.currentDialogRowNumber+=1,yield n.handleAiRowTypingAndVoice(n.currentDialogRowNumber,[n.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES.CHECK_PRODUCING_SYSTEM,n.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES.CHECK_OPERATING]),n.currentDialogRowNumber+=1,yield n.handleAiRowTypingAndVoice(n.currentDialogRowNumber,[n.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES.FINISH_CHECKING_SYSTEM],50),n.currentDialogRowNumber+=1,yield n.handleAiRowTypingAndVoice(n.currentDialogRowNumber,[n.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES.MODULE_IS_UP],50),yield n.delay(2e3),n.processStateService.setStage(n.processStateService.PROCESS_STAGES.AI_TALKING_SCENE_FINISH),n.setMainBackgroundSounds(),yield n.delay(2e3),n.processStateService.setStage(n.processStateService.PROCESS_STAGES.START_LEARNING_PROCESS)})()}setMainBackgroundSounds(){const n=[];for(const s in this.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.BACKGROUND)n.push(this.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.BACKGROUND[s].assetUrl);this.audioPlayerManagerService.setBackgroundSoundsList(n)}}return(i=o).\u0275fac=function(n){return new(n||i)(e.rXU(R.i),e.rXU(h.D),e.rXU(M._),e.rXU(e.gRc),e.rXU(v.t),e.rXU(m.Ix))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-loading-screen"]],decls:4,vars:4,consts:[[4,"ngIf"],[3,"fixed",4,"ngIf"],["class","ai-dialog code-block",3,"fixed",4,"ngIf"],["class","show-story",4,"ngIf"],["id","videoLoading","loop","true","muted","","playsinline","",3,"src","ngClass"],[3,"fixed"],["size","2"],["size","8"],["class","cyber-button-big bg-red fg-cyan cyber-glitch-2",3,"click",4,"ngIf"],["class","cyber-tile fg-green bg-cyan inline-block vt-bo margin-0-auto",4,"ngIf"],[1,"cyber-button-big","bg-red","fg-cyan","cyber-glitch-2",3,"click"],[1,"glitchtext"],[1,"tag"],[1,"cyber-tile","fg-green","bg-cyan","inline-block","vt-bo","margin-0-auto"],["class","cyber-h",4,"ngIf"],[1,"loader","text-align-center"],[1,"cyber-h"],[1,"cyber-glitch-3"],[1,"ai-dialog","code-block",3,"fixed"],["size","12"],["data-title","#P3ZXGF terrahedron AI master control system:",1,"code-block","ai-dialog-code-block"],["class","ai-talking-row",4,"ngIf"],[1,"ai-talking-row"],[1,"ai-name-start-row"],["id","ai-row-0",1,"ai-message-text"],["class","cyber-glitch-3",4,"ngIf"],["id","ai-row-1",1,"ai-message-text"],["id","ai-row-2",1,"ai-message-text"],["id","ai-row-3",1,"ai-message-text"],["id","ai-row-4",1,"ai-message-text"],["id","ai-row-5",1,"ai-message-text"],["id","ai-row-6",1,"ai-message-text"],["id","ai-row-7",1,"ai-message-text"],[1,"show-story"],[1,"terrahedron-image"],[3,"src"],["id","storyTextWrap",1,"story-text-wrap"],[1,"story-text","fg-white"],["id","buttonContinue",1,"bg-blue","fg-white","cyber-tile-small","gf-invisible",3,"click"]],template:function(n,s){1&n&&e.DNE(0,H,2,5,"ng-container",0)(1,Q,8,4,"ion-grid",1)(2,de,13,9,"ion-grid",2)(3,_e,20,1,"div",3),2&n&&(e.Y8G("ngIf",s.processStateService.CURRENT_STAGE.value>=s.processStateService.PROCESS_STAGES.INITIAL_LOADING_FINISH&&s.processStateService.CURRENT_STAGE.value<=s.processStateService.PROCESS_STAGES.WAITING_PLAYER_CLICK_START),e.R7$(),e.Y8G("ngIf",s.processStateService.CURRENT_STAGE.value<s.processStateService.PROCESS_STAGES.AI_TALKING_SCENE_START),e.R7$(),e.Y8G("ngIf",s.processStateService.CURRENT_STAGE.value>=s.processStateService.PROCESS_STAGES.AI_TALKING_SCENE_START&&s.processStateService.CURRENT_STAGE.value<=s.processStateService.PROCESS_STAGES.AI_TALKING_SCENE_FINISH),e.R7$(),e.Y8G("ngIf",s.processStateService.CURRENT_STAGE.value===s.processStateService.PROCESS_STAGES.SHOW_STORY_TERRAHEDRON))},dependencies:[S.YU,S.bT],styles:["video[_ngcontent-%COMP%]{margin:0 auto;display:block;background:#121212}video#videoLoading[_ngcontent-%COMP%]{height:100%}video#aiTalk[_ngcontent-%COMP%]{width:100%}video.magictime[_ngcontent-%COMP%]{animation-duration:2s}ion-grid[_ngcontent-%COMP%]{width:100%;position:absolute;z-index:2;top:50%;transform:translateY(-50%)}.margin-0-auto[_ngcontent-%COMP%]{margin:0 auto}.text-align-center[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{width:100%}.dispay-none[_ngcontent-%COMP%]{display:none}.invisible[_ngcontent-%COMP%]{visibility:hidden}.ai-dialog-code-block[_ngcontent-%COMP%]:before{font-size:1.5rem;text-align:center}.ai-dialog-code-block[_ngcontent-%COMP%]   .ai-text-speech[_ngcontent-%COMP%]{font-size:1.25rem}.ai-dialog[_ngcontent-%COMP%]{top:70%}.ai-message-text[_ngcontent-%COMP%]{font-size:.8rem}.ai-name-start-row[_ngcontent-%COMP%]{color:var(--yellow);font-size:1rem;text-shadow:var(--cyan) 1px 1px}.completed[_ngcontent-%COMP%]{color:#32de84}.check[_ngcontent-%COMP%]{font-weight:900!important}.ai-talking-row[_ngcontent-%COMP%]{display:grid;font-size:.9rem;grid-template-columns:auto 1fr;line-height:1em;align-items:start}.show-story[_ngcontent-%COMP%]{background:#000;display:flex;flex-direction:column;flex-grow:1;height:100vh}.show-story[_ngcontent-%COMP%]   .story-text-wrap[_ngcontent-%COMP%]{width:90%;margin:0 auto;margin-top:2vh;overflow:scroll;font-size:1.1rem;max-height:0px;animation:_ngcontent-%COMP%_expand 4s linear;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_expand{0%{max-height:0%}to{max-height:100%}}.show-story[_ngcontent-%COMP%]   .story-text-wrap[_ngcontent-%COMP%]   #buttonContinue[_ngcontent-%COMP%]{text-align:center;margin:15px auto 0;display:flex;align-items:end}.show-story[_ngcontent-%COMP%]   .story-text-wrap[_ngcontent-%COMP%]   #buttonContinue[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 auto;text-align:center;font-weight:700}.terrahedron-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:30vh;width:100%;object-fit:contain}"]}),o})();var he=l(6451),ve=l(8021),Ce=l(5141),P=l(4285);const y=()=>[],k=i=>({"cyber-glitch-0":i}),Pe=(i,o)=>({height:i,"margin-top":o}),fe=(i,o,t,n,s)=>({"green-highlight":i,"red-highlight":o,"blue-highlight":t,"gf-invisible":n,"cyber-glitch-0":s});function Ee(i,o){if(1&i){const t=e.RV6();e.j41(0,"app-tile-button",7),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.gameProcessService.unlockBoardRow())}),e.k0s()}if(2&i){const t=e.XpG(2);e.Y8G("buttonText","Unlock row "+t.gameProcessService.UNLOCK_NEXT_ROW_PRICE+' <span class="gracium-currency board-unlock">G</span>')("buttonClasses","bg-green")}}function be(i,o){if(1&i&&(e.qex(0),e.nrm(1,"img",8),e.j41(2,"span",9)(3,"span",10),e.EFF(4),e.k0s(),e.j41(5,"span",11),e.EFF(6,"G"),e.k0s()(),e.bVm()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("src",t.assetManagerService.getAssetLoadedUrl(t.assetManagerService.ALL_IMAGES_ASSETS.LOCKER_ICON.assetUrl),e.B4B),e.R7$(3),e.JRh(t.gameProcessService.UNLOCK_NEXT_ROW_PRICE)}}function Te(i,o){if(1&i&&(e.j41(0,"div",3)(1,"div",4),e.DNE(2,Ee,1,2,"app-tile-button",5)(3,be,7,2,"ng-container",6),e.k0s()()),2&i){const t=e.XpG();e.Y8G("ngClass",e.eq3(4,k,t.gameProcessService.QUEST_STATUS.value.idsToHighLigh.includes("lockedBoard")))("ngStyle",e.l_i(6,Pe,"calc(56vh / 5 * "+(4-t.gameProcessService.UNLOCKED_ROWS)+" )","calc(56vh/5 * "+(t.gameProcessService.UNLOCKED_ROWS+1)+")")),e.R7$(2),e.Y8G("ngIf",t.gameProcessService.RESOURCES[t.gameProcessService.RESOURCE_ITEM_NAMES.GRACIUM].value>=t.gameProcessService.UNLOCK_NEXT_ROW_PRICE&&t.gameProcessService.processStateService.CURRENT_STAGE.value>=t.gameProcessService.processStateService.PROCESS_STAGES.OPEN_NEW_ROW),e.R7$(),e.Y8G("ngIf",t.gameProcessService.RESOURCES[t.gameProcessService.RESOURCE_ITEM_NAMES.GRACIUM].value<t.gameProcessService.UNLOCK_NEXT_ROW_PRICE)}}function Oe(i,o){if(1&i){const t=e.RV6();e.j41(0,"ion-col",14),e.bIt("tap",function(){const s=e.eBV(t).index,r=e.XpG().index,a=e.XpG();return e.Njj(a.proccessorSlotClicked(r,s))}),e.j41(1,"div",15),e.nrm(2,"app-processor-display",16),e.k0s()()}if(2&i){const t=o.index,n=e.XpG().index,s=e.XpG();e.Y8G("ngClass",e.s1E(6,fe,(null==s.gameProcessService.currentBoardButtonsStatus.slotsToHighLight?null:s.gameProcessService.currentBoardButtonsStatus.slotsToHighLight.includes(n+":"+t))&&!s.gameProcessService.restrictedBoardPositions.includes(n+":"+t),"none"!=s.gameProcessService.currentBoardButtonsStatus.status&&s.gameProcessService.restrictedBoardPositions.includes(n+":"+t),"move"==s.gameProcessService.currentBoardButtonsStatus.status&&(null==s.gameProcessService.currentBoardButtonsStatus.selectedProcessor||null==s.gameProcessService.currentBoardButtonsStatus.selectedProcessor.position?null:s.gameProcessService.currentBoardButtonsStatus.selectedProcessor.position.row)===n&&(null==s.gameProcessService.currentBoardButtonsStatus.selectedProcessor||null==s.gameProcessService.currentBoardButtonsStatus.selectedProcessor.position?null:s.gameProcessService.currentBoardButtonsStatus.selectedProcessor.position.column)===t,s.gameProcessService.QUEST_STATUS.value.idsToHighLigh.includes("processorStorage")&&0==n&&1==t,s.gameProcessService.QUEST_STATUS.value.idsToHighLigh.includes("processor-position0-2")&&0==n&&2==t)),e.R7$(),e.Y8G("id","processor-position"+n+"-"+t),e.R7$(),e.Y8G("ngClass",e.eq3(12,k,s.gameProcessService.currentMiningPosition.row===n&&s.gameProcessService.currentMiningPosition.column===t&&(s.gameProcessService.currentTimePositionWithingSlotSec%10==8||s.gameProcessService.currentTimePositionWithingSlotSec%10==9)&&0!=s.gameProcessService.currentTimePositionWithingSlotSec))("processor",s.gameProcessService.boardProcessorList[n+":"+t])("i",n)("j",t)}}function Ae(i,o){1&i&&(e.j41(0,"ion-row",12),e.DNE(1,Oe,3,14,"ion-col",13),e.k0s()),2&i&&(e.Y8G("id","boardRow"+o.index),e.R7$(),e.Y8G("ngForOf",e.lJ4(2,y).constructor(5)))}let Re=(()=>{var i;class o{constructor(n,s,r,a,g,c){this.assetManagerService=n,this.gameProcessService=s,this.allModalsService=r,this.audioPlayerManagerService=a,this.alertConfirmService=g,this.cd=c}ngOnInit(){}proccessorSlotClicked(n,s){if(console.log("!!!test!!!"),"none"!=this.gameProcessService.currentBoardButtonsStatus.status)if("install"!=this.gameProcessService.currentBoardButtonsStatus.status){if("move"==this.gameProcessService.currentBoardButtonsStatus.status){const a=`${n}:${s}`;if(null==this.gameProcessService.currentBoardButtonsStatus.selectedProcessor&&this.gameProcessService.boardProcessorList[a]&&!this.gameProcessService.restrictedBoardPositions.includes(a)){if(this.gameProcessService.boardProcessorList[a].movePrice>this.gameProcessService.RESOURCES[this.gameProcessService.RESOURCE_ITEM_NAMES.MANIPULATOR].value)return this.audioPlayerManagerService.play(this.assetManagerService.ALL_AUDIO_VIDEO_ASSETS.VOICES.NOT_ENOUGH_RESOURCES),void this.alertConfirmService.presentAlert({message:`<h6>\n                You have: <span class="gf-negative-color"> ${this.gameProcessService.RESOURCES[this.gameProcessService.RESOURCE_ITEM_NAMES.MANIPULATOR].value}</span>\n                                                 <img class="resource-img"\n                                                      src="${this.assetManagerService.getAssetLoadedUrl(this.gameProcessService.RESOURCE_ITEMS_IMAGES_SRC[this.gameProcessService.RESOURCE_ITEM_NAMES.MANIPULATOR])}">(Manipulator) </br>\n                                                 Move price = Processor LVL + 1 = ${this.gameProcessService.boardProcessorList[a].level+1}\n              </h6>`,backdropDismiss:!1,header:"Not enough manipulators"});this.gameProcessService.selectMoveProcessor(this.gameProcessService.boardProcessorList[a]),this.gameProcessService.processStateService.CURRENT_STAGE.value==this.gameProcessService.processStateService.PROCESS_STAGES.ALLOW_TO_MOVE_PROCESSORS&&this.gameProcessService.showLearningPointers.next(["processor-position0-1"]),setTimeout(()=>{this.cd.markForCheck(),this.cd.detectChanges()})}else this.gameProcessService.moveProcessorToPosition(n,s),this.gameProcessService.showLearningPointers.next([""])}}else{var r;const a=`${n}:${s}`;null!==(r=this.gameProcessService.currentBoardButtonsStatus.slotsToHighLight)&&void 0!==r&&r.includes(a)&&!this.gameProcessService.restrictedBoardPositions.includes(a)&&this.gameProcessService.installProcessor(n,s)}else this.showProcessorInfo(n,s)}showProcessorInfo(n,s){this.allModalsService.openModal(d.q.PROCESSOR_INFO,{processor:this.gameProcessService.boardProcessorList[`${n}:${s}`],isModal:!0})}}return(i=o).\u0275fac=function(n){return new(n||i)(e.rXU(h.D),e.rXU(v.t),e.rXU(d.H),e.rXU(M._),e.rXU(ve._),e.rXU(e.gRc))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-circuit-board"]],decls:3,vars:4,consts:[["class","locked-board",3,"ngClass","ngStyle",4,"ngIf"],[1,"resources-grid","ion-no-padding","main-board",3,"fixed"],["class","ion-justify-content-center resources",3,"id",4,"ngFor","ngForOf"],[1,"locked-board",3,"ngClass","ngStyle"],[1,"locker-image"],["id","unlockNewRowBtn",3,"buttonText","buttonClasses","click",4,"ngIf"],[4,"ngIf"],["id","unlockNewRowBtn",3,"click","buttonText","buttonClasses"],[3,"src"],[1,"gracium-letter"],[1,"unlock-row"],[1,"gracium-currency"],[1,"ion-justify-content-center","resources",3,"id"],["class","chip",3,"ngClass","tap",4,"ngFor","ngForOf"],[1,"chip",3,"tap","ngClass"],[1,"chip-container",3,"id"],[3,"ngClass","processor","i","j"]],template:function(n,s){1&n&&(e.DNE(0,Te,4,9,"div",0),e.j41(1,"ion-grid",1),e.DNE(2,Ae,2,3,"ion-row",2),e.k0s()),2&n&&(e.Y8G("ngIf",s.gameProcessService.UNLOCKED_ROWS<4),e.R7$(),e.Y8G("fixed",!0),e.R7$(),e.Y8G("ngForOf",e.lJ4(3,y).constructor(5)))},dependencies:[S.YU,S.Sq,S.bT,S.B3,Ce.i,P.G],styles:['[_nghost-%COMP%]:before{content:"";position:absolute;height:56vh;width:100%;background-color:#00000073}ion-grid.main-board[_ngcontent-%COMP%]{height:56vh;--ion-grid-columns: 5;background-image:url(/gf-test/circuit_board.a3b65a02a077f564.jpg);background-size:300px;width:100%}ion-grid.main-board[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{height:11vh;overflow:hidden}ion-grid.main-board[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{pointer-events:auto;border-radius:10px}ion-grid.main-board[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .cyber-glitch-0[_ngcontent-%COMP%]{animation:cyber-glitch-0 2s linear infinite!important}ion-grid.main-board[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.green-highlight[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_green-highlight 1.2s infinite}ion-grid.main-board[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.blue-highlight[_ngcontent-%COMP%]{border-radius:5%;background-color:#0504aad4}ion-grid.main-board[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.red-highlight[_ngcontent-%COMP%]{border-radius:5%;background-color:#ff000080}@keyframes _ngcontent-%COMP%_red-highlight{0%{border-radius:15%;background-color:transparent}50%{border-radius:50%;background-color:red}to{border-radius:15%;background-color:transparent}}@keyframes _ngcontent-%COMP%_green-highlight{0%{border-radius:15%;background-color:transparent}25%{border-radius:15%;background-color:green}75%{border-radius:50%;background-color:green}to{border-radius:15%;background-color:transparent}}.locked-board[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:12;background:#000c;display:flex;align-items:center;justify-content:center}.locked-board[_ngcontent-%COMP%]   .gracium-letter[_ngcontent-%COMP%]{font-size:3em;text-shadow:var(--cyan-cyberpunk-font1) 1px 1px,var(--cyan-cyberpunk-font2) 2px 2px;color:var(--yellow-cyberpunk-font)}.locked-board[_ngcontent-%COMP%]   .gracium-letter[_ngcontent-%COMP%]   .unlock-row[_ngcontent-%COMP%]{font-size:.8em}.locked-board[_ngcontent-%COMP%]   .locker-image[_ngcontent-%COMP%]{display:flex;align-items:center}.locked-board[_ngcontent-%COMP%]   .locker-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:9vh;width:9vh}']}),o})();const G=(i,o)=>({"cyber-glitch-0":i,"gf-disabled":o});function Ie(i,o){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"ion-col",3),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.processorStorageClick())}),e.j41(2,"div",4)(3,"span"),e.nrm(4,"img",5),e.k0s(),e.j41(5,"span"),e.EFF(6," Processor storage"),e.k0s()()(),e.j41(7,"ion-col",6),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.moveProcessorClicked())}),e.j41(8,"div",4)(9,"span"),e.nrm(10,"img",5),e.k0s(),e.nrm(11,"br"),e.j41(12,"span"),e.EFF(13," Move processors"),e.k0s()()(),e.j41(14,"ion-col",7),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.allItemsClick())}),e.j41(15,"div",4)(16,"span"),e.nrm(17,"img",5),e.k0s(),e.nrm(18,"br"),e.j41(19,"span"),e.EFF(20," All items "),e.k0s(),e.nrm(21,"br"),e.EFF(22,"\xa0 "),e.k0s()(),e.j41(23,"ion-col",8)(24,"div",4)(25,"span"),e.nrm(26,"img",5),e.k0s(),e.nrm(27,"br"),e.j41(28,"span"),e.EFF(29," Stats "),e.k0s(),e.nrm(30,"br"),e.EFF(31,"\xa0 "),e.k0s()(),e.bVm()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("ngClass",e.l_i(6,G,t.gameProcessService.QUEST_STATUS.value.idsToHighLigh.includes("processorStorage"),!(t.gameProcessService.processStateService.CURRENT_STAGE.value==t.gameProcessService.processStateService.PROCESS_STAGES.AVAILABLE_PROCESSOR_STORAGE||t.gameProcessService.processStateService.CURRENT_STAGE.value==t.gameProcessService.processStateService.PROCESS_STAGES.PLAYING))),e.R7$(3),e.Y8G("src",t.assetManagerService.getAssetLoadedUrl(t.assetManagerService.ALL_IMAGES_ASSETS.PROCESSOR_STORAGE.assetUrl),e.B4B),e.R7$(3),e.Y8G("ngClass",e.l_i(9,G,t.gameProcessService.QUEST_STATUS.value.idsToHighLigh.includes("moveProcessor"),!(t.gameProcessService.processStateService.CURRENT_STAGE.value==t.gameProcessService.processStateService.PROCESS_STAGES.ALLOW_TO_MOVE_PROCESSORS||t.gameProcessService.processStateService.CURRENT_STAGE.value==t.gameProcessService.processStateService.PROCESS_STAGES.PLAYING))),e.R7$(3),e.Y8G("src",t.assetManagerService.getAssetLoadedUrl(t.assetManagerService.ALL_IMAGES_ASSETS.MOVE_PROCESSOR.assetUrl),e.B4B),e.R7$(7),e.Y8G("src",t.assetManagerService.getAssetLoadedUrl(t.assetManagerService.ALL_IMAGES_ASSETS.STORAGE.assetUrl),e.B4B),e.R7$(9),e.Y8G("src",t.assetManagerService.getAssetLoadedUrl(t.assetManagerService.ALL_IMAGES_ASSETS.STATS.assetUrl),e.B4B)}}function we(i,o){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"ion-col",9)(2,"div",10),e.EFF(3),e.k0s(),e.j41(4,"app-tile-button",11),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.resetBoardButtons())}),e.k0s()(),e.bVm()}if(2&i){const t=e.XpG();e.R7$(3),e.SpI(" Installing ",null==t.gameProcessService.currentBoardButtonsStatus.selectedProcessor?null:t.gameProcessService.currentBoardButtonsStatus.selectedProcessor.type," processor "),e.R7$(),e.Y8G("buttonText","Cancel")("buttonClasses","red")}}function Me(i,o){if(1&i&&(e.qex(0),e.EFF(1," Select processor to move "),e.nrm(2,"br"),e.EFF(3),e.nrm(4,"img",5),e.EFF(5,", move price = LVL + 1"),e.nrm(6,"img",5),e.bVm()),2&i){const t=e.XpG(2);e.R7$(3),e.SpI(" Manipulators: ",t.gameProcessService.RESOURCES[t.gameProcessService.RESOURCE_ITEM_NAMES.MANIPULATOR].value," "),e.R7$(),e.Y8G("src",t.assetManagerService.getAssetLoadedUrl(t.gameProcessService.RESOURCE_ITEMS_IMAGES_SRC[t.gameProcessService.RESOURCE_ITEM_NAMES.MANIPULATOR]),e.B4B),e.R7$(2),e.Y8G("src",t.assetManagerService.getAssetLoadedUrl(t.gameProcessService.RESOURCE_ITEMS_IMAGES_SRC[t.gameProcessService.RESOURCE_ITEM_NAMES.MANIPULATOR]),e.B4B)}}function ye(i,o){if(1&i&&(e.qex(0),e.EFF(1),e.nrm(2,"img",5),e.EFF(3," ) "),e.bVm()),2&i){const t=e.XpG(2);e.R7$(),e.Lme(" Select position where to move processor (",t.gameProcessService.currentBoardButtonsStatus.selectedProcessor.level+1,"/",t.gameProcessService.RESOURCES[t.gameProcessService.RESOURCE_ITEM_NAMES.MANIPULATOR].value,""),e.R7$(),e.Y8G("src",t.assetManagerService.getAssetLoadedUrl(t.gameProcessService.RESOURCE_ITEMS_IMAGES_SRC[t.gameProcessService.RESOURCE_ITEM_NAMES.MANIPULATOR]),e.B4B)}}function ke(i,o){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"ion-col",9)(2,"div",12)(3,"span"),e.DNE(4,Me,7,3,"ng-container",2)(5,ye,4,3,"ng-container",2),e.k0s()(),e.j41(6,"app-tile-button",11),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.resetBoardButtons())}),e.k0s()(),e.bVm()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",null==t.gameProcessService.currentBoardButtonsStatus.selectedProcessor),e.R7$(),e.Y8G("ngIf",null!=t.gameProcessService.currentBoardButtonsStatus.selectedProcessor),e.R7$(),e.Y8G("buttonText","Cancel")("buttonClasses","red")}}let Ge=(()=>{var i;class o{constructor(n,s){this.assetManagerService=n,this.gameProcessService=s,this.allowClicking=!0,this.openProcessorStorage=new e.bkB,this.openComputingUnit=new e.bkB,this.openAllItems=new e.bkB}ngOnInit(){}computingUnitClick(){this.openComputingUnit.emit(null)}processorStorageClick(){!0!==this.allowClicking||(this.disableClick(),this.gameProcessService.processStateService.CURRENT_STAGE.value!=this.gameProcessService.processStateService.PROCESS_STAGES.AVAILABLE_PROCESSOR_STORAGE&&this.gameProcessService.processStateService.CURRENT_STAGE.value!=this.gameProcessService.processStateService.PROCESS_STAGES.PLAYING)||this.openProcessorStorage.emit(null)}allItemsClick(){!0===this.allowClicking&&(this.disableClick(),this.openAllItems.emit(null))}moveProcessorClicked(){if(!0===this.allowClicking&&(this.disableClick(),this.gameProcessService.processStateService.CURRENT_STAGE.value==this.gameProcessService.processStateService.PROCESS_STAGES.ALLOW_TO_MOVE_PROCESSORS||this.gameProcessService.processStateService.CURRENT_STAGE.value==this.gameProcessService.processStateService.PROCESS_STAGES.PLAYING))return this.gameProcessService.startMoveProcessors(),void(this.gameProcessService.processStateService.CURRENT_STAGE.value==this.gameProcessService.processStateService.PROCESS_STAGES.ALLOW_TO_MOVE_PROCESSORS&&this.gameProcessService.showLearningPointers.next(["processor-position0-0"]))}resetBoardButtons(){this.gameProcessService.processStateService.CURRENT_STAGE.value==this.gameProcessService.processStateService.PROCESS_STAGES.ALLOW_TO_MOVE_PROCESSORS&&setTimeout(()=>{this.gameProcessService.showLearningPointers.next(["moveProcessor"])},1e3),this.gameProcessService.processStateService.CURRENT_STAGE.value==this.gameProcessService.processStateService.PROCESS_STAGES.AVAILABLE_PROCESSOR_STORAGE&&setTimeout(()=>{this.gameProcessService.showLearningPointers.next(["processorStorage"])},1e3),this.gameProcessService.resetBoardButtons()}disableClick(){this.allowClicking=!1,setTimeout(()=>{this.allowClicking=!0},2e3)}}return(i=o).\u0275fac=function(n){return new(n||i)(e.rXU(h.D),e.rXU(v.t))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-board-control-buttons"]],outputs:{openProcessorStorage:"openProcessorStorage",openComputingUnit:"openComputingUnit",openAllItems:"openAllItems"},decls:5,vars:4,consts:[[1,"weather-grid","fg-cyan","ion-no-padding",3,"fixed"],[1,"weather-row"],[4,"ngIf"],["size","1","id","processorStorage",3,"click","ngClass"],["color","dark",1,"control-button"],[3,"src"],["size","1","id","moveProcessor",3,"click","ngClass"],["size","1","id","gameStorage",1,"control-button",3,"click"],["size","1",1,"gf-disabled"],[1,"manage-col"],[1,"message"],[3,"click","buttonText","buttonClasses"],[1,"message-move"]],template:function(n,s){1&n&&(e.j41(0,"ion-grid",0)(1,"ion-row",1),e.DNE(2,Ie,32,12,"ng-container",2)(3,we,5,3,"ng-container",2)(4,ke,7,4,"ng-container",2),e.k0s()()),2&n&&(e.Y8G("fixed",!0),e.R7$(2),e.Y8G("ngIf","none"==s.gameProcessService.currentBoardButtonsStatus.status),e.R7$(),e.Y8G("ngIf","install"==s.gameProcessService.currentBoardButtonsStatus.status),e.R7$(),e.Y8G("ngIf","move"==s.gameProcessService.currentBoardButtonsStatus.status))},dependencies:[S.YU,S.bT,P.G],styles:["ion-grid[_ngcontent-%COMP%]{--ion-grid-columns: 4;width:100%}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{margin-top:1vh;align-items:center}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:3px;text-align:center}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]{padding:1vw;font-size:.7rem;font-weight:700;align-items:center;background-color:#1c1c1d;width:23vw;aspect-ratio:1/1;--border-color: #1d9bac;--border-style: solid;--border-width: 1px;border:.1rem solid #1d9bac;border-radius:10%}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:13vw;aspect-ratio:1/1}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.manage-col[_ngcontent-%COMP%]{padding:5px;display:flex;align-items:center;justify-content:center}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.manage-col[_ngcontent-%COMP%]   .message-move[_ngcontent-%COMP%]{font-size:.9rem;display:flex;flex-direction:column}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.manage-col[_ngcontent-%COMP%]   .message-move[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:middle;height:1em;width:1em}"]}),o})();var Le=l(1085);function Ne(i,o){if(1&i&&(e.j41(0,"tr")(1,"td")(2,"span",10)(3,"span",11),e.EFF(4),e.k0s(),e.j41(5,"span"),e.EFF(6),e.j41(7,"span",11),e.EFF(8),e.k0s()()(),e.nrm(9,"br"),e.j41(10,"span",12),e.EFF(11),e.k0s()(),e.j41(12,"td",13)(13,"span",11),e.EFF(14),e.k0s()()()),2&i){const t=o.$implicit,n=e.XpG(2);e.R7$(4),e.SpI(" ",t.name," "),e.R7$(2),e.SpI(" ",t.newLvl-1," \u2192 "),e.R7$(2),e.JRh(t.newLvl),e.R7$(3),e.SpI(" ",t.description," "),e.R7$(3),e.SpI(" ",n.gameProcessService.formatTimerToDisplay(t.timeInSeconds)," ")}}function Be(i,o){if(1&i&&(e.j41(0,"table",8)(1,"thead")(2,"tr")(3,"th")(4,"span"),e.EFF(5," Description "),e.k0s()(),e.j41(6,"th")(7,"span"),e.EFF(8,"Time"),e.k0s()()()(),e.j41(9,"tbody"),e.DNE(10,Ne,15,5,"tr",9),e.k0s()()),2&i){const t=e.XpG();e.R7$(10),e.Y8G("ngForOf",t.gameProcessService.PLAYER_QUEUE_SKILLS)}}let xe=(()=>{var i;class o{constructor(n,s){this.allModalsService=n,this.gameProcessService=s,this.allowClicking=!0}ngOnInit(){}openAddSkillsModal(){!1!==this.allowClicking&&(this.disableClick(),this.allModalsService.openModal(d.q.ALL_SKILLS))}disableClick(){this.allowClicking=!1,setTimeout(()=>{this.allowClicking=!0},2e3)}}return(i=o).\u0275fac=function(n){return new(n||i)(e.rXU(d.H),e.rXU(v.t))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-skills-learning"]],decls:10,vars:5,consts:[[1,"skills-wrapper"],[1,"cyber-h","fg-cyan"],[1,"add-button-info-row"],["id","addSkill",3,"click","buttonText","buttonClasses"],[1,"total-queue-info","fg-white"],[1,"queue-info"],[1,"all-skills"],["class","cyber-table cyber-style-2 fg-white1",4,"ngIf"],[1,"cyber-table","cyber-style-2","fg-white1"],[4,"ngFor","ngForOf"],[1,"skill-name"],[1,"fg-cyan"],[1,"skill-description"],[1,"queue-time"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"h3",1),e.EFF(2,"Skills center"),e.k0s(),e.j41(3,"div",2)(4,"app-tile-button",3),e.bIt("click",function(){return s.openAddSkillsModal()}),e.k0s(),e.j41(5,"span",4)(6,"span",5),e.EFF(7),e.k0s()()(),e.j41(8,"div",6),e.DNE(9,Be,11,1,"table",7),e.k0s()()),2&n&&(e.R7$(4),e.Y8G("buttonText","Add skill")("buttonClasses","bg-green"),e.R7$(3),e.Lme("Learning skills: ",s.gameProcessService.PLAYER_QUEUE_SKILLS.length,"/",s.gameProcessService.MAX_ALLOWED_SKILL_QUEUE,""),e.R7$(2),e.Y8G("ngIf",s.gameProcessService.PLAYER_QUEUE_SKILLS.length>0))},dependencies:[S.Sq,S.bT,P.G],styles:["div.skills-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}div.skills-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px 10px}div.skills-wrapper[_ngcontent-%COMP%]   h3.cyber-h[_ngcontent-%COMP%]:after{background-color:var(--cyan)}div.skills-wrapper[_ngcontent-%COMP%]   .add-button-info-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1vh}div.skills-wrapper[_ngcontent-%COMP%]   .add-button-info-row[_ngcontent-%COMP%]   .add-skills[_ngcontent-%COMP%]{text-align:center;width:calc(30% - 20px);display:inline-block;min-height:7vh;height:7vh;border-radius:10px;margin-left:10px;margin-right:10px;line-height:5vh;font-weight:700;text-transform:uppercase;font-size:1.4rem}div.skills-wrapper[_ngcontent-%COMP%]   .add-button-info-row[_ngcontent-%COMP%]   .total-queue-info[_ngcontent-%COMP%]{padding:10px;font-size:1.5rem;margin-left:10px;border:.03rem solid var(--cyan);width:-moz-fit-content;width:fit-content}div.skills-wrapper[_ngcontent-%COMP%]   .all-skills[_ngcontent-%COMP%]{margin:10px auto 0}div.skills-wrapper[_ngcontent-%COMP%]   .all-skills[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%], div.skills-wrapper[_ngcontent-%COMP%]   .all-skills[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{font-size:1.3em;line-height:2em}div.skills-wrapper[_ngcontent-%COMP%]   .all-skills[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], div.skills-wrapper[_ngcontent-%COMP%]   .all-skills[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}div.skills-wrapper[_ngcontent-%COMP%]   .all-skills[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.queue-time[_ngcontent-%COMP%]{text-align:center;min-width:7em}"]}),o})();function Ue(i,o){if(1&i&&(e.j41(0,"tr")(1,"td")(2,"span",10)(3,"span",11),e.EFF(4),e.k0s(),e.j41(5,"span"),e.EFF(6," x "),e.j41(7,"span",11),e.EFF(8),e.k0s()()(),e.nrm(9,"br"),e.j41(10,"span",12),e.EFF(11),e.k0s()(),e.j41(12,"td",13)(13,"span",11),e.EFF(14),e.k0s()()()),2&i){const t=o.$implicit,n=e.XpG(2);e.R7$(4),e.SpI(" ",t.item," "),e.R7$(4),e.JRh(t.count),e.R7$(3),e.SpI(" ",null==n.gameProcessService.ITEMS_TO_PRODUCE[t.item]?null:n.gameProcessService.ITEMS_TO_PRODUCE[t.item].description," "),e.R7$(3),e.SpI(" ",n.gameProcessService.formatTimerToDisplay(t.totalTimeInSeconds)," ")}}function De(i,o){if(1&i&&(e.j41(0,"div",7)(1,"table",8)(2,"thead")(3,"tr")(4,"th")(5,"span"),e.EFF(6," Description "),e.k0s()(),e.j41(7,"th")(8,"span"),e.EFF(9,"Time"),e.k0s()()()(),e.j41(10,"tbody"),e.DNE(11,Ue,15,4,"tr",9),e.k0s()()()),2&i){const t=e.XpG();e.R7$(11),e.Y8G("ngForOf",t.gameProcessService.ITEMS_QUEUE_PRODUCING.items)}}let Fe=(()=>{var i;class o{constructor(n,s,r){this.allModalsService=n,this.assetManagerService=s,this.gameProcessService=r,this.allowClicking=!0}ngOnInit(){}addProductionItems(){!1!==this.allowClicking&&(this.disableClick(),this.allModalsService.openModal(d.q.ADD_PRODUCTION_ITEMS))}disableClick(){this.allowClicking=!1,setTimeout(()=>{this.allowClicking=!0},2e3)}}return(i=o).\u0275fac=function(n){return new(n||i)(e.rXU(d.H),e.rXU(h.D),e.rXU(v.t))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-producing-queue"]],decls:10,vars:5,consts:[[1,"production-wrapper"],[1,"cyber-h","fg-cyan"],[1,"add-button-info-row"],["id","createItemBtn",3,"click","buttonText","buttonClasses"],[1,"total-queue-info","fg-white"],[1,"total-time-info"],["class","all-production-items",4,"ngIf"],[1,"all-production-items"],[1,"cyber-table","cyber-style-2","fg-white1"],[4,"ngFor","ngForOf"],[1,"item-name"],[1,"fg-cyan"],[1,"item-description"],[1,"queue-time"]],template:function(n,s){1&n&&(e.j41(0,"div",0)(1,"h3",1),e.EFF(2,"Producing subsystem"),e.k0s(),e.j41(3,"div",2)(4,"app-tile-button",3),e.bIt("click",function(){return s.addProductionItems()}),e.k0s(),e.j41(5,"span",4)(6,"span",5),e.EFF(7),e.k0s(),e.nrm(8,"br"),e.k0s()(),e.DNE(9,De,12,1,"div",6),e.k0s()),2&n&&(e.R7$(4),e.Y8G("buttonText","Create")("buttonClasses","bg-green"),e.R7$(3),e.Lme("Total time: ",s.gameProcessService.formatTimerToDisplay(s.gameProcessService.ITEMS_QUEUE_PRODUCING.totalTimeInSeconds)," / ",s.gameProcessService.formatTimerToDisplay(s.gameProcessService.PRODUCING_QUEUE_TIME_SECONDS_MAX),""),e.R7$(2),e.Y8G("ngIf",s.gameProcessService.ITEMS_QUEUE_PRODUCING.items.length>0))},dependencies:[S.Sq,S.bT,P.G],styles:["div.production-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}div.production-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px 10px}div.production-wrapper[_ngcontent-%COMP%]   h3.cyber-h[_ngcontent-%COMP%]:after{background-color:var(--cyan)}div.production-wrapper[_ngcontent-%COMP%]   .add-button-info-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1vh}div.production-wrapper[_ngcontent-%COMP%]   .add-button-info-row[_ngcontent-%COMP%]   .total-queue-info[_ngcontent-%COMP%]{padding:10px;font-size:1.5rem;margin-left:10px;border:.03rem solid cyan;width:-moz-fit-content;width:fit-content;z-index:2}div.production-wrapper[_ngcontent-%COMP%]   .all-production-items[_ngcontent-%COMP%]{margin:10px auto 0}div.production-wrapper[_ngcontent-%COMP%]   .all-production-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%], div.production-wrapper[_ngcontent-%COMP%]   .all-production-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{font-size:1em;line-height:2em}div.production-wrapper[_ngcontent-%COMP%]   .all-production-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], div.production-wrapper[_ngcontent-%COMP%]   .all-production-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}div.production-wrapper[_ngcontent-%COMP%]   .all-production-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.queue-time[_ngcontent-%COMP%]{text-align:center;min-width:7em}"]}),o})();const je=["swiper"],Ve=["clickHereContainer"],Ye=["swipeHereContainer"],_=i=>({"gf-invisible":i});function $e(i,o){if(1&i){const t=e.RV6();e.qex(0),e.nrm(1,"div",7),e.j41(2,"swiper-container",8,2),e.bIt("afterinit",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.onSwiper(s))})("init",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.onSwiper(s))})("swiper",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.onSwiper(s))})("swiperslidechange",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.swiperChange(s))})("swiperbeforeslidechangestart",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.beforeSlideChangeStart(s))})("swiperbeforetransitionstart",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.beforeTransitionStart(s))})("swiperprogress",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.swiperProgress(s))})("swiperslidenexttransitionend",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.slideNextTransitionEnd(s))}),e.j41(4,"swiper-slide"),e.nrm(5,"app-game-resources",9)(6,"app-circuit-board",10),e.j41(7,"app-board-control-buttons",11),e.bIt("openProcessorStorage",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.openProcessorStorage(s))})("openComputingUnit",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.startComputingUnit(s))})("openAllItems",function(s){e.eBV(t);const r=e.XpG();return e.Njj(r.openAllItems(s))}),e.k0s()(),e.j41(8,"swiper-slide"),e.nrm(9,"app-game-resources",12)(10,"app-computing-unit",12),e.k0s(),e.j41(11,"swiper-slide"),e.nrm(12,"app-game-resources",12)(13,"app-producing-queue",12),e.k0s(),e.j41(14,"swiper-slide"),e.nrm(15,"app-game-resources",12)(16,"app-skills-learning",12),e.k0s()(),e.bVm()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("loop",!0),e.R7$(3),e.Y8G("ngClass",e.eq3(10,_,0!==t.currentSlideIndex)),e.R7$(),e.Y8G("ngClass",e.eq3(12,_,0!==t.currentSlideIndex)),e.R7$(),e.Y8G("ngClass",e.eq3(14,_,0!==t.currentSlideIndex)),e.R7$(2),e.Y8G("ngClass",e.eq3(16,_,1!==t.currentSlideIndex)),e.R7$(),e.Y8G("ngClass",e.eq3(18,_,1!==t.currentSlideIndex)),e.R7$(2),e.Y8G("ngClass",e.eq3(20,_,2!==t.currentSlideIndex)),e.R7$(),e.Y8G("ngClass",e.eq3(22,_,2!==t.currentSlideIndex)),e.R7$(2),e.Y8G("ngClass",e.eq3(24,_,3!==t.currentSlideIndex)),e.R7$(),e.Y8G("ngClass",e.eq3(26,_,3!==t.currentSlideIndex))}}function Xe(i,o){1&i&&e.nrm(0,"app-loading-screen")}function He(i,o){}function Ke(i,o){}const ze=[{path:"",component:(()=>{var i;class o{constructor(n,s,r,a,g,c){this.processStateService=n,this.assetManagerService=s,this.gameProcessService=r,this.allModalsService=a,this.router=g,this.route=c,this.currentSlideIndex=0,this.subs=[],this.swipeHereRefs=[],this.clickHereRefs=[]}ngOnInit(){this.subs.push(this.processStateService.CURRENT_STAGE.subscribe(n=>{var s;const r=null===(s=this.swiperRef)||void 0===s?void 0:s.nativeElement.swiper;switch(n){case this.gameProcessService.processStateService.PROCESS_STAGES.START_LEARNING_PROCESS:this.enableAllSwipes(),r.slideTo(0,2200),this.disableAllSwipes();break;case this.gameProcessService.processStateService.PROCESS_STAGES.AVAILABLE_COMPUTING_UNIT:setTimeout(()=>{this.disableAllSwipes()},2e3);break;case this.gameProcessService.processStateService.PROCESS_STAGES.MENU_AVAILABE_FOR_SKILLS:case this.gameProcessService.processStateService.PROCESS_STAGES.AVAILABLE_PRODUCING:case this.gameProcessService.processStateService.PROCESS_STAGES.OPEN_NEW_ROW:this.enableSwipeOnlyLeft();break;case this.gameProcessService.processStateService.PROCESS_STAGES.PLAYING:this.enableAllSwipes()}setTimeout(()=>{},1500)})),this.subs.push(this.gameProcessService.showLearningPointers.subscribe(n=>{this.showClickHere(n)})),this.subs.push(this.gameProcessService.showLearningSwipe.subscribe(n=>{n?this.showSwipeHere():this.clearSwipeHere()})),this.subs.push(this.router.events.pipe((0,N.p)(n=>n instanceof m.wF),(0,A.n)(n=>(console.log(n),this.route.queryParamMap))).subscribe(n=>{var s;console.log(n);const r=null===(s=this.swiperRef)||void 0===s?void 0:s.nativeElement.swiper;if(r){switch(n.get("nav")){case"computingUnit":r.slideTo(1,2200);break;case"main":r.slideTo(0,2200);break;case"production":r.slideTo(2,2200);break;case"skills":r.slideTo(3,2200)}setTimeout(()=>{r.update(),this.router.navigate([],{queryParams:{}})},100)}}))}showPointerProcessorStorage(){console.log(1),setTimeout(()=>{this.showClickHere(["processorStorage"])},1e3)}ngOnDestroy(){this.subs.forEach(n=>{n&&(null==n||n.unsubscribe())})}onSwiper(n){}enableSwipeOnlyLeft(){var n,s;null!==(n=this.swiperRef)&&void 0!==n&&n.nativeElement.swiper&&(this.swiperInstance=null===(s=this.swiperRef)||void 0===s?void 0:s.nativeElement.swiper),this.swiperInstance?(setTimeout(()=>{this.swiperInstance&&(this.swiperInstance.allowSlidePrev=!0,this.swiperInstance.allowSlideNext=!1)},500),console.log("allowed left",this.swiperInstance)):setTimeout(()=>{this.enableSwipeOnlyLeft()},100)}enableSwipeOnlyRight(){this.swiperInstance&&(this.swiperInstance.allowSlideNext=!0,this.swiperInstance.allowSlidePrev=!1)}disableAllSwipes(){var n,s;null!==(n=this.swiperRef)&&void 0!==n&&n.nativeElement.swiper&&(this.swiperInstance=null===(s=this.swiperRef)||void 0===s?void 0:s.nativeElement.swiper),this.swiperInstance?(this.swiperInstance.allowSlideNext=!1,this.swiperInstance.allowSlidePrev=!1):setTimeout(()=>{this.disableAllSwipes()},100)}enableAllSwipes(){var n,s;null!==(n=this.swiperRef)&&void 0!==n&&n.nativeElement.swiper&&(this.swiperInstance=null===(s=this.swiperRef)||void 0===s?void 0:s.nativeElement.swiper),this.swiperInstance?(this.swiperInstance.allowSlideNext=!0,this.swiperInstance.allowSlidePrev=!0):setTimeout(()=>{this.enableAllSwipes()},100)}clearClickHere(){this.clickHereRefs.forEach(n=>n.destroy()),this.clickHereRefs=[]}showClickHere(n){this.clearClickHere(),n.forEach(s=>{const r=document.getElementById(s);if(!r)return void console.warn(`${s} not found in dom`);const a=r.getBoundingClientRect(),g=a.right-a.width/2+window.scrollX,c=a.bottom-a.height/3+window.scrollY,p=this.clickHereContainer.createComponent(B.i);this.clickHereRefs.push(p);const u=p.location.nativeElement;u.style.position="absolute",u.style.left=`${g}px`,u.style.top=`${c}px`,u.style.zIndex="9999"})}clearSwipeHere(){this.swipeHereRefs.forEach(n=>n.destroy()),this.swipeHereRefs=[]}showSwipeHere(){this.clearSwipeHere();const s=document.body.getBoundingClientRect(),r=s.right-s.width/2+window.scrollX,a=s.top+s.height/2+window.scrollY,g=this.swipeHereContainer.createComponent(x);this.swipeHereRefs.push(g);const c=g.location.nativeElement;c.style.position="absolute",c.style.left=`${r}px`,c.style.top=`${a}px`,c.style.zIndex="9999"}swiperChange(n){const[s]=n.detail;this.swiperInstance=s,this.currentSlideIndex=s.realIndex,this.gameProcessService.currentSlideIndex=s.realIndex,this.gameProcessService.processStateService.CURRENT_STAGE.value===this.gameProcessService.processStateService.PROCESS_STAGES.AVAILABLE_COMPUTING_UNIT&&1===s.realIndex&&setTimeout(()=>{1===s.realIndex&&(this.clearSwipeHere(),this.disableAllSwipes())},500),this.gameProcessService.processStateService.CURRENT_STAGE.value===this.gameProcessService.processStateService.PROCESS_STAGES.MENU_AVAILABE_FOR_SKILLS&&3===s.realIndex&&setTimeout(()=>{3===s.realIndex&&(this.clearSwipeHere(),this.disableAllSwipes(),this.gameProcessService.showLearningPointers.next(["addSkill"]))},500),this.gameProcessService.processStateService.CURRENT_STAGE.value===this.gameProcessService.processStateService.PROCESS_STAGES.AVAILABLE_PRODUCING&&2===s.realIndex&&setTimeout(()=>{2===s.realIndex&&(this.clearSwipeHere(),this.disableAllSwipes(),0===this.gameProcessService.ITEMS_QUEUE_PRODUCING.items.length&&this.gameProcessService.showLearningPointers.next(["createItemBtn"]))},500),this.gameProcessService.processStateService.CURRENT_STAGE.value===this.gameProcessService.processStateService.PROCESS_STAGES.OPEN_NEW_ROW&&0===s.realIndex&&setTimeout(()=>{0===s.realIndex&&(this.clearSwipeHere(),this.disableAllSwipes(),this.gameProcessService.showLearningPointers.next(["unlockNewRowBtn"]))},500)}beforeTransitionStart(n){}beforeSlideChangeStart(n){}swiperProgress(n){}slideNextTransitionEnd(n){}slideChangeTransitionEnd(n){console.log("END!")}ngAfterViewInit(){}openProcessorStorage(n){this.allModalsService.openModal(d.q.PROCESSOR_STORAGE)}startComputingUnit(n){this.allModalsService.openModal(d.q.COMPUTING_UNIT)}openAllItems(n){this.allModalsService.openModal(d.q.ALL_ITEMS)}}return(i=o).\u0275fac=function(n){return new(n||i)(e.rXU(R.i),e.rXU(h.D),e.rXU(v.t),e.rXU(d.H),e.rXU(m.Ix),e.rXU(m.nX))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-main-board-learning"]],viewQuery:function(n,s){if(1&n&&(e.GBs(je,5),e.GBs(Ve,7,e.c1b),e.GBs(Ye,7,e.c1b)),2&n){let r;e.mGM(r=e.lsd())&&(s.swiperRef=r.first),e.mGM(r=e.lsd())&&(s.clickHereContainer=r.first),e.mGM(r=e.lsd())&&(s.swipeHereContainer=r.first)}},decls:9,vars:4,consts:[["clickHereContainer",""],["swipeHereContainer",""],["swiper",""],[3,"fullscreen","forceOverscroll"],[4,"ngIf"],[1,"tutorial-overlay"],[1,"tutorial-overlay-swipe"],[1,"padding-top"],["effect","slide","cube-effect-shadow","false","cube-effect-slide-shadows","false","prevent-clicks","false","prevent-clicks-propagation","false","touch-start-prevent-default","false",3,"afterinit","init","swiper","swiperslidechange","swiperbeforeslidechangestart","swiperbeforetransitionstart","swiperprogress","swiperslidenexttransitionend","loop"],["id","appResources",3,"ngClass"],["id","mainBoard",3,"ngClass"],[3,"openProcessorStorage","openComputingUnit","openAllItems","ngClass"],[3,"ngClass"]],template:function(n,s){1&n&&(e.j41(0,"ion-content",3),e.DNE(1,$e,17,28,"ng-container",4)(2,Xe,1,0,"app-loading-screen",4),e.j41(3,"div",5),e.DNE(4,He,0,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(6,"div",6),e.DNE(7,Ke,0,0,"ng-template",null,1,e.C5r),e.k0s()()),2&n&&(e.Y8G("fullscreen",!0)("forceOverscroll",!0),e.R7$(),e.Y8G("ngIf",s.processStateService.CURRENT_STAGE.value>=s.processStateService.PROCESS_STAGES.AVAILABLE_COMPUTING_UNIT),e.R7$(),e.Y8G("ngIf",s.processStateService.CURRENT_STAGE.value<s.processStateService.PROCESS_STAGES.AVAILABLE_COMPUTING_UNIT))},dependencies:[S.YU,S.bT,O.W9,me,he.P,Re,Ge,Le.a,xe,Fe],styles:[".padding-top[_ngcontent-%COMP%]{padding-top:80px}app-loading-screen[_ngcontent-%COMP%]{display:inline-block;background-color:#000;height:100vh}"]}),o})()}];let We=(()=>{var i;class o{}return(i=o).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[m.iI.forChild(ze),m.iI]}),o})();var qe=l(3887);let Qe=(()=>{var i;class o{}return(i=o).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[S.MD,L.YN,O.bv,We,qe.G]}),o})()}}]);